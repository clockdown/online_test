逆ポーランド記法

逆ポーランド記法とは、数式の表記法の一種です。

この問題では中置記法(通常の算術式)で記述された数式を逆ポーランド記法に変換し、その計算結果を求めてもらいます。

システム使用方法で困った際はこちらのドキュメンテーションをご覧ください。

入力ルール

CLIアプリケーションには1つの引数が渡されます。
第1引数は中置記法で記述された数式です。
中置記法として不正な数式が渡されることがあります。
処理ルール

数式で使用する演算子は +, -, *, /の4種類のみです。
演算子の優先順位は通常の算術式と同じです。("*" = "/" > "+" = "-")
数式で使用するのは正の整数のみですが、計算結果が負の数になることはありえます。
計算の優先順位を示すために数式の一部が括弧(())で括られていることがあります。
括弧は複数回ネストすることがあります。
数値と演算子、括弧の前後には空白が含まれることがあります。
除算は整数除算です。計算の過程で小数が現れることはありません。
5 2 /の解は2です。2.5ではありません。
出力ルール

数式が中置記法として正しい場合

逆ポーランド記法に変換した数式とその計算結果を標準出力に表示する。
表示の形式は、数式 = 計算結果とする。
それぞれの数値、または記号はスペース1文字で区切って出力する。
出力に使用できる文字は数値、四則演算記号(+, -, *, /)、=とスペースのみとする。
アプリケーションの返り値は0とする。
数式が中置記法として正しくない場合

標準出力には何も表示しない。
アプリケーションの返り値は以下のエラーコードとする。
1: 引数がない、または空白のみ
2: 数値、演算子、括弧以外の文字が式に含まれている
3: 括弧が不整合
4: 数値または演算子の出現順が中置記法として不正
5: それ以外のエラー
標準エラー出力にはフリーフォーマットでエラーメッセージを表示しても構いません。
サンプル

以下に中置記法を逆ポーランド記法に変換する例を示します。

$ ./[YOUR APP] "1 + 2"
1 2 + = 3
$ ./[YOUR APP] "3 / 2"
3 2 / = 1
$ ./[YOUR APP] "1 + 2 * 3"
1 2 3 * + = 7
$ ./[YOUR APP] "(1 + 2) * 3"
1 2 + 3 * = 7
以下に不正な引数が渡された場合の例を示します。

$ ./[YOUR APP] "    "
# エラーコード`1`で終了し、標準出力には何も表示しない。
$ ./[YOUR APP] "1 + x"
# エラーコード`2`で終了し、標準出力には何も表示しない。
$ ./[YOUR APP] "2 * (3 + 4"
# エラーコード`3`で終了し、標準出力には何も表示しない。
$ ./[YOUR APP] "1 + + 2"
# エラーコード`4`で終了し、標準出力には何も表示しない。
テストケースについて

テストケースはtest/basic_testcases.jsonファイルに記載されています。
実際にはこれらのファイルに加え、さらにいくつかの隠されたテストケースを実行して正否を判定します。
隠されたテストは、CLIアプリケーションが正しく実装されていれば問題なくパスします。
※ 秘密のテストはチャレンジ提出時にのみ実行されWebEditor上では確認できません。

Answer.md

answer.mdを用意してあるので、その中に

エラーコード5を使用した場合はどのようなエラーに対して使用したのか
どのように実装したか、工夫した点は何か
発生した問題、難しかった箇所
またそれをどのようにして対処したのか
等を記述してください